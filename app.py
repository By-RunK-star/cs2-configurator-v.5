import pandas as pd
import streamlit as st

# –ó–∞–≥—Ä—É–∂–∞–µ–º –±–∞–∑—É
@st.cache_data
def load_data():
    return pd.read_csv("builds.csv")

df = load_data()

# –ó–∞–≥–æ–ª–æ–≤–æ–∫
st.title("‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä CS2")
st.write("–í—ã–±–µ—Ä–∏ —Å–≤–æ–π –ü–ö –∏ –ø–æ–ª—É—á–∏ –≥–æ—Ç–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è CS2!")

# –§–∏–ª—å—Ç—Ä—ã
cpu = st.selectbox("–í—ã–±–µ—Ä–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä:", sorted(df["CPU"].unique()))
gpu = st.selectbox("–í—ã–±–µ—Ä–∏ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—É:", sorted(df["GPU"].unique()))
ram = st.selectbox("–í—ã–±–µ—Ä–∏ –æ–±—ä—ë–º –û–ó–£:", sorted(df["RAM"].unique()))

# –ö–Ω–æ–ø–∫–∞ –ø–æ–∏—Å–∫–∞
if st.button("–ù–∞–π—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"):
    result = df[
        (df["CPU"] == cpu) &
        (df["GPU"] == gpu) &
        (df["RAM"] == ram)
    ]
    if not result.empty:
        st.subheader("‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏")

        # –ë–µ—Ä–µ–º –ø–µ—Ä–≤—É—é –Ω–∞–π–¥–µ–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É
        row = result.iloc[0]

        # –î–µ–ª–∞–µ–º –∫—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥
        st.markdown(f"""
        **üñ• CPU:** {row['CPU']}  
        **üéÆ GPU:** {row['GPU']}  
        **üíæ RAM:** {row['RAM']}  

        **‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã:** {row['Game Settings']}  
        **üöÄ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞:** {row['Launch Options']}  
        **üéõ –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** {row['Control Panel']}  

        üîó *–ò—Å—Ç–æ—á–Ω–∏–∫:* {row['Source']}
        """)
    else:
        st.error("‚ùå –ü–æ–¥—Ö–æ–¥—è—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.")


# --- –ë–ª–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
st.markdown("---")  # —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å–Ω–∞—è –ª–∏–Ω–∏—è
st.subheader("üíñ –ü–æ–¥–¥–µ—Ä–∂–∏ –ø—Ä–æ–µ–∫—Ç —Ä—É–±–ª–µ–º - —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—ã—Ö–æ–¥–∏–ª–∏ –±—ã—Å—Ç—Ä–µ–µ")

st.markdown(
    """
    –ï—Å–ª–∏ —Ç–µ–±–µ –ø–æ–º–æ–≥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É:  
    üëâ [üí∏ DonatPay](https://www.donationalerts.com/r/melevik)
    """,
    unsafe_allow_html=True
)



